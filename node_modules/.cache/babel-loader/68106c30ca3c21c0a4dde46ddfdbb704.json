{"ast":null,"code":"var _jsxFileName = \"/Users/gexiaoyun/git/customForm/src/page/divMove.tsx\";\nimport * as React from 'react';\n\nclass DivMove extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      divArr: [1, 2]\n    };\n\n    this.mouseDown = e => {\n      e.stopPropagation();\n      let target = e.target;\n      target.style.position = 'absolute'; // 鼠标点击物体那一刻相对于物体左侧边框的距离=点击时的位置相对于浏览器最左边的距离-物体左边框相对于浏览器最左边的距离\n\n      let x = e.clientX - target.offsetLeft,\n          y = e.clientY - target.offsetTop;\n\n      document.onmousemove = e => {\n        e.preventDefault();\n        let l = e.clientX - x,\n            t = e.clientY - y;\n\n        if (l < 0) {\n          l = 0;\n        }\n\n        if (t < 0) {\n          t = 0;\n        }\n\n        target.style.top = t + 'px';\n        target.style.left = l + 'px';\n      };\n\n      target.onmouseup = () => {\n        document.onmousemove = null;\n        target.onmouseup = null;\n      };\n    };\n  }\n\n  componentDidMount() {}\n\n  render() {\n    return React.createElement(\"div\", {\n      style: {\n        width: '100vw',\n        height: '100vh'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    }, this.state.divArr.map((o, i) => {\n      return React.createElement(\"p\", {\n        onMouseDown: e => {\n          this.mouseDown(e);\n        },\n        style: {\n          background: 'red',\n          width: '50px',\n          height: '50px'\n        },\n        key: i,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, o);\n    }), \"            \");\n  }\n\n}\n\nexport default DivMove;","map":{"version":3,"sources":["/Users/gexiaoyun/git/customForm/src/page/divMove.tsx"],"names":["React","DivMove","Component","state","divArr","mouseDown","e","stopPropagation","target","style","position","x","clientX","offsetLeft","y","clientY","offsetTop","document","onmousemove","preventDefault","l","t","top","left","onmouseup","componentDidMount","render","width","height","map","o","i","background"],"mappings":";AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;;AAEA,MAAMC,OAAN,SAAsBD,KAAK,CAACE,SAA5B,CAA8C;AAAA;AAAA;AAAA,SAE1CC,KAF0C,GAElC;AACJC,MAAAA,MAAM,EAAE,CAAC,CAAD,EAAG,CAAH;AADJ,KAFkC;;AAAA,SAS1CC,SAT0C,GAS7BC,CAAD,IAAY;AACpBA,MAAAA,CAAC,CAACC,eAAF;AACA,UAAIC,MAAM,GAAGF,CAAC,CAACE,MAAf;AACAA,MAAAA,MAAM,CAACC,KAAP,CAAaC,QAAb,GAAwB,UAAxB,CAHoB,CAIpB;;AACA,UAAKC,CAAC,GAAGL,CAAC,CAACM,OAAF,GAAYJ,MAAM,CAACK,UAA5B;AAAA,UAAwCC,CAAC,GAAGR,CAAC,CAACS,OAAF,GAAYP,MAAM,CAACQ,SAA/D;;AACAC,MAAAA,QAAQ,CAACC,WAAT,GAAwBZ,CAAD,IAAO;AAC1BA,QAAAA,CAAC,CAACa,cAAF;AACA,YAAIC,CAAC,GAAGd,CAAC,CAACM,OAAF,GAAYD,CAApB;AAAA,YAAuBU,CAAC,GAAGf,CAAC,CAACS,OAAF,GAAYD,CAAvC;;AACA,YAAIM,CAAC,GAAG,CAAR,EAAW;AACPA,UAAAA,CAAC,GAAG,CAAJ;AACH;;AACD,YAAIC,CAAC,GAAG,CAAR,EAAW;AACPA,UAAAA,CAAC,GAAG,CAAJ;AACH;;AACDb,QAAAA,MAAM,CAACC,KAAP,CAAaa,GAAb,GAAmBD,CAAC,GAAE,IAAtB;AACAb,QAAAA,MAAM,CAACC,KAAP,CAAac,IAAb,GAAoBH,CAAC,GAAC,IAAtB;AACH,OAXD;;AAYAZ,MAAAA,MAAM,CAACgB,SAAP,GAAmB,MAAM;AACrBP,QAAAA,QAAQ,CAACC,WAAT,GAAuB,IAAvB;AACAV,QAAAA,MAAM,CAACgB,SAAP,GAAmB,IAAnB;AACH,OAHD;AAIH,KA/ByC;AAAA;;AAM1CC,EAAAA,iBAAiB,GAAS,CACzB;;AA0BDC,EAAAA,MAAM,GAAoB;AACtB,WACI;AACI,MAAA,KAAK,EAAE;AAACC,QAAAA,KAAK,EAAE,OAAR;AAAiBC,QAAAA,MAAM,EAAE;AAAzB,OADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAIQ,KAAKzB,KAAL,CAAWC,MAAX,CAAkByB,GAAlB,CAAsB,CAACC,CAAD,EAASC,CAAT,KAAoB;AACvC,aAAQ;AACJ,QAAA,WAAW,EAAGzB,CAAD,IAAY;AAAC,eAAKD,SAAL,CAAeC,CAAf;AAAkB,SADxC;AAEJ,QAAA,KAAK,EAAE;AAAC0B,UAAAA,UAAU,EAAE,KAAb;AAAoBL,UAAAA,KAAK,EAAE,MAA3B;AAAmCC,UAAAA,MAAM,EAAE;AAA3C,SAFH;AAGJ,QAAA,GAAG,EAAEG,CAHD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKHD,CALG,CAAR;AAOF,KARD,CAJR,iBADJ;AAgBH;;AAlDyC;;AAqD9C,eAAe7B,OAAf","sourcesContent":["import * as React from 'react'\n\nclass DivMove extends React.Component<{}, {}> {\n\n    state = {\n        divArr: [1,2]\n    }\n\n    componentDidMount(): void {\n    }\n\n    mouseDown = (e: any) => {\n        e.stopPropagation();\n        let target = e.target;\n        target.style.position = 'absolute';\n        // 鼠标点击物体那一刻相对于物体左侧边框的距离=点击时的位置相对于浏览器最左边的距离-物体左边框相对于浏览器最左边的距离\n        let  x = e.clientX - target.offsetLeft, y = e.clientY - target.offsetTop;\n        document.onmousemove = (e) => {\n            e.preventDefault();\n            let l = e.clientX - x, t = e.clientY - y;\n            if (l < 0) {\n                l = 0\n            }\n            if (t < 0) {\n                t = 0\n            }\n            target.style.top = t+ 'px';\n            target.style.left = l+'px';\n        };\n        target.onmouseup = () => {\n            document.onmousemove = null;\n            target.onmouseup = null;\n        }\n    }\n\n    render(): React.ReactNode {\n        return (\n            <div\n                style={{width: '100vw', height: '100vh'}}\n            >\n                {\n                    this.state.divArr.map((o: any, i: any) => {\n                       return  <p\n                           onMouseDown={(e: any) => {this.mouseDown(e)}}\n                           style={{background: 'red', width: '50px', height: '50px'}}\n                           key={i}\n                       >\n                           {o}\n                       </p>\n                    })\n                }            </div>\n        );\n    }\n}\n\nexport default DivMove;"]},"metadata":{},"sourceType":"module"}